# nishimoto_car

ブラウザで動作する 3D カーゲーム（Babylon.js + Cannon.js）。単一 `index.html` で完結し、タイムアタック、ゴースト、ランキング、環境設定、サウンド、カスタマイズなどを搭載しています。

## 動作方法
1. `index.html` をブラウザで開く
2. 読み込み後、カウントダウンが終わると走行開始

※ CDN から Babylon.js/Cannon.js/Google Fonts/パーティクル用テクスチャを読み込みます。オフライン環境では一部機能が動作しません。

## 操作方法
- `W / ↑`：前進
- `S / ↓`：後退
- `A / ←`：左旋回
- `D / →`：右旋回
- `Space`：ブレーキ
- `P`：メニュー（ポーズ/各種設定/チュートリアル）
- `G`：ゴースト ON/OFF
- `リセット` ボタン：スタート地点へ戻って再カウントダウン

## 主な機能
- タイムアタック（カウントダウン → 計測 → ゴール判定）
- HUD：スピードメーター、経過時間、Best、Ghost、Δ（ゴーストとの差分）
- ミニマップ：コース概形、スタート/ゴール、障害物、車位置
- ランキング：コース別 Top5 と Best を LocalStorage へ保存
- ゴースト：Best 更新時に記録／次回以降に走行表示／G で表示切替
- 環境設定：時間帯（朝/昼/夕/夜）＋天候（晴/曇/雨）
  - スカイボックス、ライト、フォグ、夜間ヘッドライトに反映
  - 設定は LocalStorage に保存
- サウンド：エンジン音/UI音/カウントダウン/ゴール効果音
  - 音量スライダーと ON/OFF トグル
- 車両カスタマイズ：ボディ/ボンネット/トランク/ウィンドウの色変更（保存あり）
- チュートリアル：P メニューから表示
- ビットマップコース：画像アップロードでコース生成
  - 色の意味：白=道路 / 黒=壁 / 青=スタート / 緑=ゴール / 赤=障害物

## コース
- コース1（デフォルト）
- ビットマップ（画像から生成）

## 保存されるデータ（LocalStorage）
- ベストタイム（コース別）
- Top5 ランキング（コース別）
- ゴーストデータ（コース別）
- ゴースト ON/OFF 状態
- 環境設定（時間帯・天候）
- 車両カラーカスタマイズ

## ファイル構成
- `index.html`：HTML/CSS/JS を集約した単一ファイル
- `README.md`：本書
- `要件定義書.md`：要件整理

## 対応ブラウザ
Chrome / Firefox / Safari / Edge（最新を推奨）
